name: Time-Freeze CI Safe
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  safe-build-and-test:
    runs-on: ubuntu-latest
    steps:
      # 1️⃣ Checkout the repo
      - uses: actions/checkout@v3

      # 2️⃣ Safe “install dependencies” step
      - name: Install dependencies
        run: echo "Skipping npm install (no package.json present)"

      # 3️⃣ Safe lint step
      - name: Lint code
        run: echo "Skipping lint (no package.json or scripts defined)"

      # 4️⃣ Safe test step
      - name: Run tests
        run: echo "Skipping tests (no package.json or scripts defined)"

      # 5️⃣ Safe build step
      - name: Build project
        run: echo "Skipping build (no package.json or scripts defined)"

      # 6️⃣ Show components and Calendar.js snippet
      - name: Show components
        run: |
          echo "Listing src/components folder:"
          if [ -d src/components ]; then ls -1 src/components; else echo "No components folder found"; fi
          echo "First 20 lines of Calendar.js (if exists):"
          if [ -f src/components/Calendar.js ]; then head -n 20 src/components/Calendar.js; else echo "Calendar.js not found"; fi

      # 7️⃣ Confirm workflow ran
      - name: Confirm CI/CD
        run: echo "CI/CD ran successfully for time-freeze!"
